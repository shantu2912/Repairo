<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Details - FixZen</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'brand-olive': '#5D5646', 'brand-gold': '#A07D54', 'brand-cream': '#EEEAE2', 'brand-dark': '#4D4C4B', 'brand-beige': '#DFD4C3' },
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'], serif: ['"Playfair Display"', 'serif'] },
                    animation: { 'fade-in-up': 'fadeInUp 0.5s ease-out forwards' }
                }
            }
        }
        
        // --- 3. THE STATIC DATABASE (The Brain of your Site) ---
        // This replaces the database fetch. It is instant and crash-proof.
        const servicesDB = {
            // CONSTRUCTION & HOME
            "Carpenter": { name: "Expert Carpentry", price: 299, rating: 4.8, reviews: "2.1k", image: "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?auto=format&fit=crop&w=800", desc: "Furniture repair, assembly, and custom woodwork by skilled carpenters.", features: ["Furniture Repair", "Door & Window Fix", "New Furniture Making"], rates: [{n:"Furniture Assembly",p:440}, {n:"Door Hinge Repair",p:275}, {n:"Drawer Channel Repair",p:330}, {n:"Wooden Bed Repair",p:550}] },
            "Plumber": { name: "Professional Plumbing", price: 199, rating: 4.7, reviews: "3.5k", image: "https://images.unsplash.com/photo-1585704032915-c3400ca199e7?auto=format&fit=crop&w=800", desc: "Leakage fixing, installation, and blockage removal specialists.", features: ["Leakage Fix", "Tap Installation", "Blockage Removal"], rates: [{n:"Tap Repair",p:275}, {n:"Leakage Detection",p:385}, {n:"Wash Basin Install",p:440}, {n:"Toilet Repair",p:440}] },
            "Electrician": { name: "Expert Electrician", price: 149, rating: 4.9, reviews: "4k+", image: "https://images.unsplash.com/photo-1621905252507-b35492cc74b4?auto=format&fit=crop&w=800", desc: "Safe and certified electricians for all your wiring needs.", features: ["Wiring & Fuse", "Fan & Light Install", "Inverter Fix"], rates: [{n:"Switch/Socket Repair",p:275}, {n:"Fan Installation",p:385}, {n:"MCB Replacement",p:440}, {n:"New Point Wiring",p:880}] },
            "Painter": { name: "House Painting", price: 999, rating: 4.6, reviews: "1.2k", image: "https://images.unsplash.com/photo-1589939705384-5185137a7f0f?auto=format&fit=crop&w=800", desc: "Transform your home with professional painting services.", features: ["Wall Painting", "Texture Design", "Waterproofing"], rates: [{n:"Wall Painting (sq ft)",p:12}, {n:"Single Wall Accent",p:1500}, {n:"Full Room (10x10)",p:3500}, {n:"Touch-up Work",p:800}] },
            "Mason": { name: "Masonry Work", price: 499, rating: 4.5, reviews: "850", image: "https://images.unsplash.com/photo-1590486803833-1c5dc8ce84ac?auto=format&fit=crop&w=800", desc: "Brickwork, plastering, and renovation experts.", features: ["Tile Fixing", "Plastering", "Renovation"], rates: [{n:"Plastering (sq ft)",p:25}, {n:"Brick Work",p:450}, {n:"Kitchen Slab Fix",p:1200}] },
            "Welder": { name: "Welding Services", price: 399, rating: 4.6, reviews: "500+", image: "https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&w=800", desc: "Gate, grill, and metal furniture welding repairs.", features: ["Gate Repair", "Grill Welding", "Metal Furniture"], rates: [{n:"Small Weld Job",p:400}, {n:"Gate Repair",p:800}, {n:"Grill Fabrication",p:1500}] },
            "Roofer": { name: "Roofing Solutions", price: 599, rating: 4.7, reviews: "300+", image: "https://images.unsplash.com/photo-1632759145351-1d592919f522?auto=format&fit=crop&w=800", desc: "Leakage proofing and roof tile installation.", features: ["Waterproofing", "Tile Replacement", "Shed Installation"], rates: [{n:"Leak Inspection",p:500}, {n:"Tile Replacement",p:800}, {n:"Waterproofing (sq ft)",p:45}] },
            "Tiler": { name: "Tile & Flooring", price: 299, rating: 4.6, reviews: "900+", image: "https://images.unsplash.com/photo-1623935833075-f3747d079946?auto=format&fit=crop&w=800", desc: "Professional tile laying for floors, walls, and bathrooms.", features: ["Floor Tiling", "Wall Tiling", "Grouting"], rates: [{n:"Tile Laying (sq ft)",p:35}, {n:"Bathroom Tiling",p:2500}, {n:"Grouting",p:400}] },

            // APPLIANCE REPAIR
            "AC Tech": { name: "AC Repair & Service", price: 399, rating: 4.8, reviews: "5k+", image: "https://images.unsplash.com/photo-1621905252507-b35492cc74b4?auto=format&fit=crop&w=800", desc: "Complete AC cooling solutions, gas refill, and servicing.", features: ["Jet Cleaning", "Gas Refill", "Installation"], rates: [{n:"AC Service",p:550}, {n:"Gas Refill",p:2500}, {n:"Installation",p:1500}, {n:"Uninstallation",p:700}] },
            "Fridge": { name: "Refrigerator Repair", price: 299, rating: 4.7, reviews: "3k+", image: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&w=800", desc: "Expert repair for single door, double door, and side-by-side fridges.", features: ["Cooling Fix", "Gas Refill", "Compressor Check"], rates: [{n:"Inspection",p:299}, {n:"Gas Charging",p:1800}, {n:"Thermostat Change",p:650}] },
            "Washing M.": { name: "Washing Machine", price: 349, rating: 4.7, reviews: "2.8k", image: "https://images.unsplash.com/photo-1610557892470-55d9e80c0bce?auto=format&fit=crop&w=800", desc: "Repair for top load, front load, and semi-automatic machines.", features: ["Drum Cleaning", "Motor Repair", "PCB Fix"], rates: [{n:"Visit & Inspect",p:349}, {n:"Drum Descaling",p:599}, {n:"PCB Repair",p:1200}] },
            "Microwave": { name: "Microwave Repair", price: 299, rating: 4.6, reviews: "1.5k", image: "https://images.unsplash.com/photo-1585659722983-3a67528e5764?auto=format&fit=crop&w=800", desc: "Fixing heating issues, plate rotation, and electrical faults.", features: ["Heating Fix", "Panel Repair", "Magnetron Change"], rates: [{n:"Inspection",p:299}, {n:"Panel Repair",p:850}, {n:"Magnetron Change",p:1800}] },
            "RO Filter": { name: "RO Water Purifier", price: 199, rating: 4.8, reviews: "3.2k", image: "https://images.unsplash.com/photo-1542013936693-884638332954?auto=format&fit=crop&w=800", desc: "Filter change, servicing, and installation for all RO brands.", features: ["Filter Change", "Membrane Wash", "Installation"], rates: [{n:"General Service",p:350}, {n:"Filter Kit Change",p:1500}, {n:"Installation",p:500}] },
            "Gas Stove": { name: "Gas Stove Repair", price: 149, rating: 4.5, reviews: "900+", image: "https://images.unsplash.com/photo-1585237672814-8f85a83ccb95?auto=format&fit=crop&w=800", desc: "Burner cleaning, leakage fixing, and knob repair.", features: ["Burner Clean", "Leakage Fix", "Hob Repair"], rates: [{n:"Visit Charge",p:149}, {n:"Burner Cleaning",p:250}, {n:"Valve Change",p:450}] },
            "Elevator": { name: "Elevator AMC", price: 999, rating: 4.9, reviews: "200+", image: "https://images.unsplash.com/photo-1541336032412-2048956132b8?auto=format&fit=crop&w=800", desc: "Commercial and residential elevator maintenance.", features: ["Monthly Check", "Emergency Rescue", "Oil & Grease"], rates: [{n:"One Time Check",p:1500}, {n:"Annual AMC",p:12000}] },

            // ELECTRONICS & IT
            "Mobile": { name: "Mobile Repair", price: 199, rating: 4.7, reviews: "5k+", image: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?auto=format&fit=crop&w=800", desc: "Screen replacement, battery change, and software issues.", features: ["Screen Replace", "Battery Change", "Jack Fix"], rates: [{n:"Diagnosis",p:199}, {n:"Screen Replacement",p:1500}, {n:"Battery Change",p:800}] },
            "Laptop": { name: "Laptop Repair", price: 299, rating: 4.8, reviews: "4.2k", image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&w=800", desc: "OS installation, hardware upgrade, and chip-level repair.", features: ["OS Install", "SSD Upgrade", "Screen Fix"], rates: [{n:"OS Installation",p:499}, {n:"General Service",p:599}, {n:"Keyboard Change",p:1200}] },
            "Printer": { name: "Printer Service", price: 399, rating: 4.5, reviews: "1k+", image: "https://images.unsplash.com/photo-1612815154858-60aa4c59eaa6?auto=format&fit=crop&w=800", desc: "Cartridge refilling, paper jam fix, and head cleaning.", features: ["Refill", "Paper Jam", "Head Clean"], rates: [{n:"Cartridge Refill",p:450}, {n:"Service",p:399}, {n:"Head Cleaning",p:600}] },
            "TV / LED": { name: "TV / LED Repair", price: 349, rating: 4.6, reviews: "2k+", image: "https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?auto=format&fit=crop&w=800", desc: "Display issue, sound problem, and motherboard repair.", features: ["Screen Fix", "Audio Repair", "Wall Mount"], rates: [{n:"Visit",p:349}, {n:"Wall Mounting",p:450}, {n:"Backlight Fix",p:1800}] },
            "CCTV": { name: "CCTV Installation", price: 499, rating: 4.7, reviews: "800+", image: "https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=800", desc: "Security camera installation and DVR configuration.", features: ["Install", "Configuration", "Maintenance"], rates: [{n:"Camera Install",p:500}, {n:"DVR Setup",p:800}, {n:"Cable Laying (ft)",p:15}] },
            "Network": { name: "Network/WiFi", price: 399, rating: 4.6, reviews: "600+", image: "https://images.unsplash.com/photo-1544197150-b99a580bb7a8?auto=format&fit=crop&w=800", desc: "Router setup, LAN cabling, and signal boosting.", features: ["Router Setup", "Cabling", "Range Boost"], rates: [{n:"Router Config",p:400}, {n:"LAN Crimping",p:150}, {n:"Cable Laying",p:10}] },
            "Automation": { name: "Home Automation", price: 999, rating: 4.8, reviews: "300+", image: "https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&w=800", desc: "Smart home setup, Alexa/Google Home integration.", features: ["Smart Light", "Voice Control", "Sensors"], rates: [{n:"Device Setup",p:500}, {n:"Full Room Auto",p:5000}] },

            // AUTOMOBILE
            "Car Mech": { name: "Car Mechanic", price: 499, rating: 4.8, reviews: "1.5k", image: "https://images.unsplash.com/photo-1487754180451-c456f719a1fc?auto=format&fit=crop&w=800", desc: "On-spot car breakdown assistance and servicing.", features: ["Jumpstart", "Oil Change", "Brake Pad"], rates: [{n:"Jumpstart",p:500}, {n:"General Service",p:1500}, {n:"Oil Change",p:300}] },
            "Bike Mech": { name: "Bike Mechanic", price: 199, rating: 4.7, reviews: "2k+", image: "https://images.unsplash.com/photo-1558981403-c5f9899a28bc?auto=format&fit=crop&w=800", desc: "Two-wheeler servicing and puncture repair.", features: ["Servicing", "Puncture", "Chain Lube"], rates: [{n:"General Service",p:350}, {n:"Puncture",p:150}, {n:"Oil Change",p:100}] },
            "Auto Elec": { name: "Auto Electrician", price: 350, rating: 4.6, reviews: "500+", image: "https://images.unsplash.com/photo-1635843104666-407859c6799d?auto=format&fit=crop&w=800", desc: "Car/Bike battery, horn, and wiring issues.", features: ["Battery Check", "Wiring Fix", "Horn/Light"], rates: [{n:"Inspection",p:350}, {n:"Wiring Fix",p:600}, {n:"Alternator Check",p:500}] },
            "Tyres": { name: "Tyre Services", price: 150, rating: 4.5, reviews: "1k+", image: "https://images.unsplash.com/photo-1578844251758-2f71da645217?auto=format&fit=crop&w=800", desc: "Puncture repair, tyre change, and air filling.", features: ["Puncture", "Stepney Change", "Air Fill"], rates: [{n:"Tubeless Puncture",p:150}, {n:"Tyre Change",p:200}] },
            "Diesel": { name: "Diesel Mechanic", price: 599, rating: 4.7, reviews: "300+", image: "https://images.unsplash.com/photo-1626154673898-1d2f788b7709?auto=format&fit=crop&w=800", desc: "Heavy vehicle and diesel engine repair.", features: ["Engine Check", "Injector Fix", "Pump Repair"], rates: [{n:"Visit",p:600}, {n:"Pump Calibration",p:1500}] },

            // INDUSTRIAL
            "Machinery": { name: "Industrial Machinery", price: 1500, rating: 4.9, reviews: "100+", image: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800", desc: "Maintenance of heavy industrial equipment.", features: ["Hydraulics", "Conveyors", "Motors"], rates: [{n:"Inspection",p:1500}, {n:"Service Day",p:3000}] },
            "Generator": { name: "Generator Repair", price: 799, rating: 4.6, reviews: "400+", image: "https://images.unsplash.com/photo-1565514020176-883a9924e223?auto=format&fit=crop&w=800", desc: "Service for DG sets and backup generators.", features: ["Oil Filter", "Engine Check", "ATS Panel"], rates: [{n:"Service (5kVA)",p:800}, {n:"Service (15kVA+)",p:1500}] },
            "Boiler": { name: "Boiler Service", price: 2000, rating: 4.8, reviews: "50+", image: "https://images.unsplash.com/photo-1598965637213-92c2dae72e18?auto=format&fit=crop&w=800", desc: "Industrial boiler maintenance and descaling.", features: ["Descaling", "Valve Check", "Leakage"], rates: [{n:"Inspection",p:2000}, {n:"Tube Cleaning",p:5000}] },
            "HVAC": { name: "HVAC Systems", price: 1200, rating: 4.7, reviews: "200+", image: "https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?auto=format&fit=crop&w=800", desc: "Centralized AC and ducting maintenance.", features: ["Duct Clean", "Chiller Fix", "AHU Service"], rates: [{n:"Visit",p:1200}, {n:"Duct Cleaning",p:15/1}] }, // 15 per sqft
            "Solar": { name: "Solar Panel", price: 699, rating: 4.8, reviews: "500+", image: "https://images.unsplash.com/photo-1509391366360-2e959784a276?auto=format&fit=crop&w=800", desc: "Cleaning and maintenance of solar plants.", features: ["Panel Cleaning", "Inverter Check", "Wiring"], rates: [{n:"Cleaning (per kW)",p:300}, {n:"Inverter Check",p:700}] },
            "Fire Safety": { name: "Fire Safety", price: 499, rating: 4.9, reviews: "300+", image: "https://images.unsplash.com/photo-1615817812975-c0883273e979?auto=format&fit=crop&w=800", desc: "Extinguisher refill and alarm system check.", features: ["Refill", "Alarm Test", "Sprinklers"], rates: [{n:"Extinguisher Refill",p:500}, {n:"System Audit",p:1500}] },

            // OTHER
            "Pest Ctrl": { name: "Pest Control", price: 799, rating: 4.7, reviews: "2.5k", image: "https://images.unsplash.com/photo-1628177142898-93e36e4e3a50?auto=format&fit=crop&w=800", desc: "Cockroach, termite, and bed bug treatment.", features: ["Cockroach", "Termite", "Bed Bug"], rates: [{n:"1 BHK General",p:799}, {n:"2 BHK General",p:999}, {n:"Termite/Room",p:1500}] },
            "Locksmith": { name: "Key & Lock", price: 299, rating: 4.8, reviews: "800+", image: "https://images.unsplash.com/photo-1582139329536-e7284fece509?auto=format&fit=crop&w=800", desc: "Door unlock, key making, and lock installation.", features: ["Unlock", "Key Making", "New Lock"], rates: [{n:"Unlock Service",p:350}, {n:"New Lock Install",p:250}] },
            "Glass Fit": { name: "Glass Fitting", price: 399, rating: 4.6, reviews: "400+", image: "https://images.unsplash.com/photo-1563245372-f21724e3856d?auto=format&fit=crop&w=800", desc: "Window glass replacement and mirror fixing.", features: ["Window Glass", "Mirrors", "Table Top"], rates: [{n:"Visit",p:400}, {n:"Installation",p:300}] },
            "False Ceiling": { name: "False Ceiling", price: 0, rating: 4.7, reviews: "600+", image: "https://images.unsplash.com/photo-1628434522967-0c7cb9d9e793?auto=format&fit=crop&w=800", desc: "POP and Gypsum ceiling design and repair.", features: ["POP Design", "Gypsum Board", "Lighting"], rates: [{n:"POP (per sq ft)",p:95}, {n:"Gypsum (per sq ft)",p:85}] },
            "UPVC Win": { name: "UPVC Windows", price: 499, rating: 4.8, reviews: "300+", image: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?auto=format&fit=crop&w=800", desc: "Installation and repair of UPVC windows/doors.", features: ["Handle Fix", "Alignment", "Net Mesh"], rates: [{n:"Service Visit",p:500}, {n:"Handle Replace",p:350}] }
        };

        const SUPABASE_URL = 'https://kzxdxnxgouthsywbsnvl.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6eGR4bnhnb3V0aHN5d2JzbnZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMTczMzIsImV4cCI6MjA4MTg5MzMzMn0.nqzn89vmTFKVNuZPHfGRxdTg6UHT6GMud238rr49qag';
        
        // Initialize Supabase ONLY for booking (Authentication)
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        window.sb = supabase;
    </script>
</head>

<body class="bg-brand-cream text-brand-dark antialiased"
      x-data="{ 
          service: null, 
          loading: true, 
          bookingLoading: false,
          error: false,
          
          init() {
              // 1. GET ID FROM URL
              const params = new URLSearchParams(window.location.search);
              let id = params.get('id');
              
              if(!id) { window.location.href = 'index.html'; return; }

              // 2. FETCH FROM STATIC DB (Instant!)
              if (servicesDB[id]) {
                  this.service = servicesDB[id];
                  this.service.id = id; // Attach ID back for booking
                  this.loading = false;
              } else {
                  this.error = true;
                  this.loading = false;
              }
          },

          async bookService() {
              this.bookingLoading = true;
              
              // CHECK LOGIN (Using Supabase)
              const { data: { user } } = await window.sb.auth.getUser();
              
              if (!user) {
                  alert('Please Log In to book a service!');
                  window.location.href = 'loginuser.html'; 
                  return;
              }

              // INSERT BOOKING (Using Supabase)
              const { error } = await window.sb
                  .from('bookings')
                  .insert([{ 
                          user_id: user.id,
                          service_name: this.service.name, 
                          status: 'pending',
                          total_amount: this.service.price,
                          location_address: 'Current Location (GPS)', 
                          scheduled_date: new Date().toISOString()
                  }]);

              this.bookingLoading = false;

              if (error) {
                  alert('Booking Failed: ' + error.message);
              } else {
                  alert('Booking Confirmed! Technician will contact you.');
                  window.location.href = 'bookings.html';
              }
          }
      }">

    <div class="fixed top-0 w-full z-50 p-6 flex justify-between items-center pointer-events-none">
        <a href="index.html" class="pointer-events-auto w-10 h-10 rounded-full bg-white/80 backdrop-blur-md shadow-lg flex items-center justify-center text-brand-olive hover:scale-110 transition-transform cursor-pointer border border-white/50">
            <i class="fa-solid fa-arrow-left"></i>
        </a>
    </div>

    <div x-show="loading" class="h-screen flex items-center justify-center bg-brand-cream fixed inset-0 z-40">
        <i class="fa-solid fa-circle-notch fa-spin text-4xl text-brand-gold"></i>
    </div>

    <div x-show="error && !loading" class="h-screen flex flex-col items-center justify-center text-center p-6" style="display: none;">
        <i class="fa-solid fa-triangle-exclamation text-4xl text-brand-gold mb-4"></i>
        <h2 class="text-xl font-bold text-brand-olive">Service Not Found</h2>
        <a href="index.html" class="mt-6 px-6 py-3 bg-brand-olive text-white rounded-xl font-bold">Go Home</a>
    </div>

    <div x-show="!loading && service" class="pb-32 animate__animated animate__fadeIn" style="display: none;">
        
        <div class="relative h-[50vh] w-full rounded-b-[40px] overflow-hidden shadow-2xl bg-gray-900">
            <img :src="service?.image" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
            
            <div class="absolute bottom-10 left-6 right-6 text-white animate-fade-in-up">
                <div class="flex items-center gap-2 mb-3">
                    <span class="bg-brand-gold/90 backdrop-blur px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider shadow-lg border border-white/20">Verified Pro</span>
                    <div class="flex items-center gap-1 bg-white/20 backdrop-blur-md px-2 py-1 rounded-lg border border-white/10">
                        <i class="fa-solid fa-star text-yellow-400 text-xs"></i>
                        <span class="font-bold text-sm" x-text="service?.rating"></span>
                    </div>
                </div>
                <h1 class="text-4xl font-serif font-bold leading-tight" x-text="service?.name"></h1>
                <p class="text-white/60 text-sm mt-2 font-light line-clamp-2" x-text="service?.desc"></p>
            </div>
        </div>

        <div class="px-6 mt-8 animate-fade-in-up" style="animation-delay: 0.1s">
            
            <div class="flex justify-between items-end mb-8 p-5 bg-white rounded-3xl shadow-sm border border-brand-beige/40 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-24 h-24 bg-brand-gold/5 rounded-bl-full -mr-4 -mt-4"></div>
                <div class="relative z-10">
                    <p class="text-brand-dark/40 font-bold text-[10px] uppercase tracking-widest mb-1">Visit Charge</p>
                    <div class="flex items-baseline gap-1">
                        <span class="text-2xl font-bold text-brand-olive">₹</span>
                        <h2 class="text-5xl font-serif font-bold text-brand-olive" x-text="service?.price"></h2>
                    </div>
                </div>
                <div class="text-right relative z-10">
                    <div class="bg-green-100 text-green-700 px-3 py-1.5 rounded-xl text-xs font-bold border border-green-200 inline-flex items-center gap-1 mb-1">
                        <i class="fa-solid fa-check-circle"></i> Low Price
                    </div>
                </div>
            </div>

            <div class="mb-8" x-show="service?.rates">
                <h3 class="font-bold text-lg text-brand-olive mb-4 flex items-center gap-2">
                    <i class="fa-solid fa-list-check text-brand-gold"></i> Standard Rates
                </h3>
                <div class="bg-white rounded-2xl shadow-sm border border-brand-beige/40 overflow-hidden">
                    <template x-for="item in service?.rates">
                        <div class="flex justify-between items-center p-4 border-b border-brand-cream last:border-0 hover:bg-brand-cream/30 transition-colors">
                            <div class="flex items-center gap-3">
                                <div class="w-2 h-2 rounded-full bg-brand-gold shrink-0"></div>
                                <span class="text-sm font-medium text-brand-dark" x-text="item.n"></span>
                            </div>
                            <span class="text-sm font-bold text-brand-olive whitespace-nowrap">₹ <span x-text="item.p"></span></span>
                        </div>
                    </template>
                </div>
                <p class="text-[10px] text-center text-brand-dark/40 mt-3">* Parts/Material cost extra. Final quote after inspection.</p>
            </div>

            <h3 class="font-bold text-lg text-brand-olive mb-4">Service Scope</h3>
            <ul class="space-y-3 mb-8">
                <template x-for="feature in service?.features">
                    <li class="flex items-center gap-4 bg-white p-4 rounded-2xl border border-brand-beige/40 shadow-sm">
                        <div class="w-8 h-8 rounded-full bg-brand-cream flex items-center justify-center text-brand-gold text-xs shrink-0">
                            <i class="fa-solid fa-check"></i>
                        </div>
                        <span class="text-sm font-medium text-brand-dark" x-text="feature"></span>
                    </li>
                </template>
            </ul>
        </div>
    </div>

    <div x-show="!loading && !error" class="fixed bottom-0 w-full z-40">
        <div class="bg-white/90 backdrop-blur-xl border-t border-brand-beige/50 p-6 pt-4 rounded-t-[30px] shadow-[0_-10px_40px_rgba(0,0,0,0.1)] animate-fade-in-up">
            <button @click="bookService()" 
                    :disabled="bookingLoading"
                    class="w-full bg-brand-olive text-white rounded-2xl font-bold text-lg hover:bg-brand-gold transition-colors shadow-lg shadow-brand-olive/30 py-4 flex items-center justify-center gap-2">
                <span x-show="!bookingLoading">Book Service Now</span>
                <i x-show="!bookingLoading" class="fa-solid fa-arrow-right text-sm"></i>
                <i x-show="bookingLoading" class="fa-solid fa-circle-notch fa-spin"></i>
            </button>
        </div>
    </div>

</body>
</html>
